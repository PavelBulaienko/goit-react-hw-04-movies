(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(31),i=n.n(c),s=(n(37),n(11)),o=n(12),u=n(14),h=n(13),j=(n(38),n(9)),p=n(3),l=n(2),b=n.n(l),v=n(5),d=function(){var e=Object(v.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"745843703988462346ba909afe11c7ba",e.next=3,fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=".concat("745843703988462346ba909afe11c7ba"));case 3:return t=e.sent,n=t.json(),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=n(0),f=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={trending:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d().then((function(e){return t.setState({trending:e.results})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"trendingHeader",children:"Trending week"}),Object(m.jsx)("ul",{className:"trendingList",children:this.state.trending.map((function(t){var n=t.id,r=t.original_title,a=t.backdrop_path;return Object(m.jsx)("li",{className:"trendingListItem",children:Object(m.jsxs)(j.b,{to:{pathname:"".concat(e.props.match.url,"movies/").concat(n),state:{from:e.props.match.url}},children:[Object(m.jsx)("h2",{children:r}),Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(a),alt:r})]})},n)}))})]})}}]),n}(r.Component),O=function(){var e=Object(v.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"745843703988462346ba909afe11c7ba",e.next=3,fetch("https:api.themoviedb.org/3/search/movie?api_key=".concat("745843703988462346ba909afe11c7ba","&query=").concat(t)).then((function(e){return e.json()}));case 3:return n=e.sent,r=n.results,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={movies:[]},e.onSearchClick=function(){var t=Object(v.a)(b.a.mark((function t(n){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===(r=n.target.previousElementSibling.value)){t.next=6;break}return t.next=4,O(r);case 4:a=t.sent,e.setState({movies:a});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"}),Object(m.jsx)("input",{}),Object(m.jsx)("button",{type:"button",onClick:this.onSearchClick,children:"Search"}),Object(m.jsx)(p.a,{path:"".concat(this.props.match.url),render:function(){return Object(m.jsx)("ul",{children:e.state.movies.map((function(t){var n=t.id,r=t.original_title;return Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:{pathname:"".concat(e.props.match.url,"/").concat(n),state:{from:e.props.match.url}},children:r})},n)}))})}})]})}}]),n}(r.Component),g=n(16),w=n(18),k=n.n(w),y={api_key:"745843703988462346ba909afe11c7ba",fullInfoMovie:function(e){var t=this;return Object(v.a)(b.a.mark((function n(){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k()("https:api.themoviedb.org/3/movie/".concat(e,"&?api_key=").concat(t.api_key)).then((function(e){return e.data}));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))()},castInfoMovie:function(e){var t=this;return Object(v.a)(b.a.mark((function n(){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k()("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(t.api_key)).then((function(e){return e.data}));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))()},reviewsInfoMovie:function(e){var t=this;return Object(v.a)(b.a.mark((function n(){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k()("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(t.api_key)).then((function(e){return e.data}));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})))()}},_=function(e){var t=e.cast;return Object(m.jsx)("ul",{children:t.map((function(e){var t=e.id,n=e.profile_path,r=e.name,a=e.character;return Object(m.jsxs)("li",{children:[Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(n),alt:r}),Object(m.jsxs)("p",{children:["Name: ",r]}),Object(m.jsxs)("p",{children:["Character: ",a]})]},t)}))})},C=function(e){var t=e.reviews;return Object(m.jsx)("ul",{children:t.results.map((function(e){var t=e.id,n=e.author,r=e.content;return Object(m.jsxs)("li",{children:[Object(m.jsxs)("h4",{children:["Name: ",n]}),Object(m.jsxs)("p",{children:["Review: ",r]})]},t)}))})},I=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={backdrop_path:"",genres:[],original_title:null,overview:null,popularity:null,release_date:null,cast:[],reviews:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,n=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.movieId,y.fullInfoMovie(t).then((function(e){return n.setState(Object(g.a)({},e))})),y.castInfoMovie(t).then((function(e){return n.setState({cast:e.cast})})),y.reviewsInfoMovie(t).then((function(e){return n.setState({reviews:e})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.original_title,r=t.backdrop_path,a=t.release_date,c=t.popularity,i=t.overview,s=t.genres,o=this.props,u=o.location,h=o.history;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{className:"btnComeBack",type:"button",onClick:function(){return h.push(u.state.from)},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"}),Object(m.jsx)("h1",{children:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0438\u043b\u044c\u043c\u0435"}),Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(r),alt:n}),Object(m.jsxs)("h2",{children:[n," (",a,")"]}),Object(m.jsxs)("p",{children:["User score: ",Math.round(c),"%"]}),Object(m.jsx)("h2",{children:"Overview"}),Object(m.jsx)("p",{children:i}),Object(m.jsx)("h2",{children:"Genres"}),s.map((function(e){var t=e.id,n=e.name;return Object(m.jsx)("p",{children:n},t)})),Object(m.jsx)("h2",{children:"Additional information"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"".concat(this.props.match.url,"/cast"),children:"Cast"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.b,{to:"".concat(this.props.match.url,"/reviews"),children:"Reviews"})})]}),Object(m.jsx)(p.a,{path:"".concat(this.props.match.url,"/cast"),render:function(t){return Object(m.jsx)(_,Object(g.a)(Object(g.a)({},t),{},{cast:e.state.cast}))}}),Object(m.jsx)(p.a,{path:"".concat(this.props.match.url,"/reviews"),render:function(t){return Object(m.jsx)(C,Object(g.a)(Object(g.a)({},t),{},{reviews:e.state.reviews}))}})]})}}]),n}(r.Component),N={home:"/",moviesPage:"/movies",movieDetailPage:"/movies/:movieId"},S=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=N.home,t=N.moviesPage;return Object(m.jsxs)("ul",{className:"navList",children:[Object(m.jsx)("li",{className:"navListItem",children:Object(m.jsx)(j.b,{to:e,className:"navLink",children:"Home"})}),Object(m.jsx)("li",{className:"navListItem",children:Object(m.jsx)(j.b,{to:t,className:"navLink",children:"Search"})})]})}}]),n}(r.Component),M=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=N.home,t=N.movieDetailPage,n=N.moviesPage;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"mainWrapper",children:Object(m.jsxs)(j.a,{children:[Object(m.jsx)(S,{}),Object(m.jsxs)(p.c,{children:[Object(m.jsx)(p.a,{exact:!0,path:e,component:f}),Object(m.jsx)(p.a,{path:t,component:I}),Object(m.jsx)(p.a,{path:n,component:x})]})]})})})}}]),n}(r.Component);i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(M,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.54647d30.chunk.js.map